FROM openjdk:8-jdk-alpine

VOLUME /tmp


ARG SPRING_PROFILES_ACTIVE=SPRING_PROFILES_ACTIVE
ARG APP_VERSION=APP_VERSION
ARG POSTGRES_PASS=POSTGRES_PASS
ARG KEY_64=KEY_64
ARG KEY_64N=KEY_64N
ARG ENCRYPTION_KEY=ENCRYPTION_KEY
ARG HOSTNAME=HOSTNAME
ARG POSTGRES_URL=POSTGRES_URL
ARG POSTGRES_USERNAME=POSTGRES_USERNAME

ENV SPRING_PROFILES_ACTIVE=$SPRING_PROFILES_ACTIVE
ENV APP_VERSION=$APP_VERSION
ENV POSTGRES_PASS=$POSTGRES_PASS
ENV KEY_64=$KEY_64
ENV KEY_64N=$KEY_64N
ENV ENCRYPTION_KEY=$ENCRYPTION_KEY
ENV HOSTNAME=$HOSTNAME
ENV POSTGRES_URL=POSTGRES_URL
ENV POSTGRES_USERNAME=POSTGRES_USERNAME

ARG JAR_FILE

EXPOSE 8080

COPY ${JAR_FILE} app.jar

ENTRYPOINT ["java","-jar","/app.jar"]







